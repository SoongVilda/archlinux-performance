# Arch Linux performance
This guide contains Arch Linux tweaks focused on performance and is fully ready for gaming. Guide uses existing tweaks from CachyOS.

# Performance optimized repositories x86-64-v3 and additional packages

```
wget https://mirror.cachyos.org/cachyos-repo.tar.xz
tar xvf cachyos-repo.tar.xz
cd cachyos-repo
sudo ./cachyos-repo.sh
```
# Download performance optimized packages
```
sudo pacman -Syu
```

# Adding tweaks
Tweaks is provided by `cachyos-settings`

```
sudo pacman -S --needed cachyos-settings linux-cachyos linux-cachyos-headers
```
# Package [`cachyos-settings`](https://github.com/CachyOS/CachyOS-Settings) contains following tweaks:

## [Irqbalance](https://github.com/Irqbalance/irqbalance)
Irqbalance is a daemon to help balance the cpu load generated by interrupts across all of a systems cpus. Irqbalance identifies the highest volume interrupt sources, and isolates each of them to a single unique cpu, so that load is spread as much as possible over an entire processor set, while minimizing cache miss rates for irq handlers.

## [Ananicy Cpp](https://gitlab.com/ananicy-cpp/ananicy-cpp)
Ananicy (ANother Auto NICe daemon) â€” is a shell daemon created to manage processes' IO and CPU priorities, with community-driven set of rules for popular applications (anyone may add their own rule via github's pull request mechanism). It's mainly for desktop usage.
- **cachyos-settings also provide own rules**

## [uksmd - Userspace KSM helper daemon](https://codeberg.org/pf-kernel/uksmd)
The daemon goes through the list of userspace tasks (once per 5 seconds) and hints them to apply MADV_MERGEABLE to anonymous mappings for ksmd kthread to merge memory pages with the same content. Only long-living tasks are hinted (those that were launched more than 10 seconds ago).

## System configs tweaks
These tweaks bring minor performance improvements, but it's still notable.

### /etc/modprobe.d
- NVreg_EnablePCIeGen3=1

### /etc/security/limits.d
- **audio** - realtime & audio adjustments.
- **esync** - Stability improvements.

### /etc/sysctl.d/
- **performance** - kernel and network.
- **security** - kernel and network.

### etc/systemd/
- **ZRAM** - performance, especially under heavy load on the RAM.

### etc/udev/rules.d/
- **AMD GPU** - performance
- **sata disc** - performance
- **Tuning I/O scheduler** - performance
- **HDD** - performance

## Reboot the system after installation.
- Enjoy faster Arch Linux and smooth gaming! 
